{"version":3,"sources":["components/HistoryItem.js","components/History.js","components/Calculator.js","App.js","index.js"],"names":["HistoryItem","getStyle","paddingTop","paddingBottom","cursor","color","props","selectedId","history","id","style","this","onClick","changeState","bind","principal","amount","numPayments","Component","History","histories","data","defaultOpeneds","className","SubMenu","index","title","map","key","Calculator","amountSlider","isLoading","min","max","value","onChange","getData","loanDetails","monthSlider","Row","Col","span","type","resetEverything","borderRadius","monthlyPayment","Number","interestRate","toPrecision","App","state","val","axios","get","then","res","setState","addHistory","lD","uuid","v4","arr","concat","newDetails","currency","localStorage","getItem","JSON","parse","nextProps","nextState","setItem","stringify","theme","mode","Item","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.119ef887.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass HistoryItem extends Component{\r\n\r\n    getStyle = () => {\r\n        return {\r\n            paddingTop: '10px',\r\n            paddingBottom: '10px',\r\n            cursor: 'pointer',\r\n            color: (this.props.selectedId === this.props.history.id) ? '#20a0ff' : 'black'\r\n        }\r\n    }\r\n\r\n  render() {\r\n    return (\r\n        <li style={this.getStyle()} onClick={this.props.changeState.bind(this, this.props.history)}>${this.props.history.principal.amount} Loan, for {this.props.history.numPayments} Months</li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HistoryItem;\r\n","import React, {Component} from 'react';\r\nimport {Menu} from 'element-react';\r\nimport '../css/LeftPane.css';\r\nimport HistoryItem from './HistoryItem';\r\n\r\nclass History extends Component{\r\n\r\n\r\n  render() {\r\n    const histories = this.props.data;\r\n    return (\r\n        <Menu defaultOpeneds={['1']} className=\"el-menu-vertical-demo\">\r\n        <Menu.SubMenu index=\"1\" title={<span><i className=\"el-icon-time\"></i>History</span>}>\r\n          <ul>\r\n            {histories.map(history => (    \r\n              <HistoryItem key={history.id} selectedId={this.props.selectedId} history={history} changeState={this.props.changeState} />\r\n            ))}\r\n          </ul>\r\n        </Menu.SubMenu>\r\n        \r\n        </Menu>\r\n    );\r\n  }\r\n}\r\n\r\nexport default History;\r\n","import React, {Component} from 'react';\r\nimport '../css/RightPane.css'\r\nimport { Layout, Button } from 'element-react';\r\nimport Slider from 'rc-slider';\r\nimport 'rc-slider/assets/index.css';\r\n\r\n\r\nclass Calculator extends Component{\r\n\r\n  amountSlider = () => {\r\n    const loading = this.props.data.isLoading;\r\n    if(loading){\r\n      return <Slider min={500} max={5000} value={500} onChange={this.props.getData.bind(this, 'amount')} />\r\n    } else {\r\n      return <Slider min={500} max={5000} value={this.props.data.loanDetails.principal.amount} onChange={this.props.getData.bind(this, 'amount')} />\r\n    }\r\n  }\r\n\r\n  monthSlider = () => {\r\n    const loading = this.props.data.isLoading;\r\n    if(loading){\r\n      return <Slider min={6} max={24} value={6} onChange={this.props.getData.bind(this, 'month')} />\r\n    } else {\r\n      return <Slider min={6} max={24} value={this.props.data.loanDetails.numPayments} onChange={this.props.getData.bind(this, 'month')} />\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {isLoading, loanDetails} = this.props.data\r\n    return (\r\n      <div id=\"main-container\">\r\n          <Layout.Row>\r\n\r\n              <Layout.Col span=\"16\">\r\n                <div className=\"bg-grey content-block\">\r\n                    <h2>Loan Amount</h2>\r\n                    <div className=\"block\">\r\n                      <span className=\"demonstration\">Slide and select the total Loan Amount</span>\r\n                      <br/>\r\n                      <span className=\"demonstration\"><strong>Loan Amount:</strong> ${(!this.props.data.isLoading) ? this.props.data.loanDetails.principal.amount : 500}</span>\r\n                      {this.amountSlider()}\r\n                    </div>\r\n                    <h2>Loan Duration</h2>\r\n                    <div className=\"block\">\r\n                      <span className=\"demonstration\">Slide and select the Duration for which you want to take the loan.</span>\r\n                      <br/>\r\n                      <span className=\"demonstration\"><strong>Loan Duration:</strong> {(!this.props.data.isLoading) ? this.props.data.loanDetails.numPayments : 6} Months</span>\r\n                      {this.monthSlider()}\r\n                    </div>\r\n                    <Button type=\"primary\" onClick={this.props.resetEverything.bind(this)} style={{borderRadius: 0}}>RESET</Button>\r\n                    <br /><br />\r\n                    <sup><em>Current selection will be saved in History on Reset.</em></sup>\r\n                </div>\r\n              </Layout.Col>\r\n\r\n              <Layout.Col span=\"8\">\r\n                <div id=\"results-section\" className=\"bg-purple content-block\">\r\n                    <div className=\"results-wrapper\">\r\n                    <span className=\"big-text\">${(!isLoading) ? (loanDetails.monthlyPayment.amount * loanDetails.numPayments) : ('...')}</span>\r\n                    <br />\r\n                    <sup><em>Total Payable Amount</em></sup>\r\n                    <br />\r\n                    <span className=\"big-text\">${(!isLoading) ? (loanDetails.monthlyPayment.amount) : ('...')}</span>\r\n                    <br />\r\n                    <sup><em>Monthly Payment</em></sup>\r\n                    <br />\r\n                    <span className=\"big-text\">{(!isLoading) ? (Number(loanDetails.interestRate * 100).toPrecision(2)) : ('...')}%</span>\r\n                    <br />\r\n                    <sup><em>Interest Rate</em></sup>\r\n                    </div>\r\n                </div>\r\n              </Layout.Col>\r\n\r\n          </Layout.Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Calculator;\r\n","import React, {Component} from 'react';\nimport './css/App.css';\nimport { Layout, Menu } from 'element-react';\nimport History from './components/History';\nimport Calculator from './components/Calculator';\nimport axios from 'axios';\nimport uuid from 'uuid';\n\nclass App extends Component{\n\n  state = {\n    isLoading: true,\n    loanDetails : {},\n    history: [],\n    selectedId: null\n  }\n\n  getData = (type, val) => {\n    if(type === 'amount'){\n      axios.get(`https://ftl-frontend-test.herokuapp.com/interest?amount=${val}&numMonths=${this.state.loanDetails.numPayments}`)\n      .then(res => this.setState({ isLoading: false, loanDetails: res.data }))\n    } else {\n      axios.get(`https://ftl-frontend-test.herokuapp.com/interest?amount=${this.state.loanDetails.principal.amount}&numMonths=${val}`)\n      .then(res => this.setState({ isLoading: false, loanDetails: res.data }))\n    }\n  }\n\n  addHistory = () => {\n    this.setState(state => {\n      let lD = state.loanDetails;\n      lD.id = uuid.v4();\n      const arr = state.history.concat(lD);\n      return {\n        isLoading: false,\n        loanDetails: state.loanDetails,\n        history: arr\n      }\n    })\n  }\n\n  changeState = (newDetails) => {\n    this.setState({selectedId: newDetails.id});\n    this.setState({loanDetails: newDetails});\n  }\n\n  resetEverything = () => {\n    let dummyState= {\n      interestRate: 0.25,\n      monthlyPayment: {\n        amount: 93,\n        currency: \"USD\"\n      },\n      numPayments: 6,\n      principal: {\n        amount: 500,\n        currency: \"USD\"\n      }\n    }\n    //Push current loanDetails to the history array\n    this.addHistory()\n    //Resetting the whole state\n    this.setState({ isLoading: false, loanDetails: dummyState });\n    this.setState({selectedId: null});\n  }\n\n  componentWillMount(){\n    //Check if there is already 'loanHistory' present in the local storage. If present, update the state accordingly.\n    if(localStorage.getItem('loanHistory')){\n      this.setState({\n        history: JSON.parse(localStorage.getItem('loanHistory'))\n      })\n    }\n  }\n\n  componentWillUpdate(nextProps, nextState){\n    // Update the local storage here with the server fetched data, before the state is updated\n    localStorage.setItem('loanHistory', JSON.stringify(nextState.history));\n  }\n\n  componentDidMount(){\n    axios.get('https://ftl-frontend-test.herokuapp.com/interest?amount=500&numMonths=6')\n    .then(res => this.setState({ isLoading: false, loanDetails: res.data }))\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        \n        <Layout.Row>\n          <Layout.Col span=\"24\">\n            <Menu theme=\"dark\" className=\"el-menu-demo\" mode=\"horizontal\">\n              <Menu.Item index=\"0\"><span id=\"AppTitle\">Loan App</span></Menu.Item>\n            </Menu>\n          </Layout.Col>\n        </Layout.Row>\n\n        <Layout.Row>\n          <Layout.Col span=\"4\" className=\"left-pane\">\n            <History data={this.state.history} selectedId={this.state.selectedId} changeState={this.changeState}/>\n          </Layout.Col>\n\n          <Layout.Col span=\"20\" className=\"right-pane\">\n            <Calculator getData={this.getData} data={this.state} resetEverything={this.resetEverything}/>\n          </Layout.Col>\n        </Layout.Row>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport 'element-theme-default';\n\nReactDOM.render(\n    <App />, \n    document.getElementById('root')\n);\n"],"sourceRoot":""}